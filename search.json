[
  {
    "objectID": "src/seminaire-dms/index.html#origine-du-projet",
    "href": "src/seminaire-dms/index.html#origine-du-projet",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Origine du projet",
    "text": "Origine du projet\n\nBesoin dâ€™un rÃ©fÃ©rentiel complet, stable, fiable, mis Ã  jour.\nFaciliter la gestion des adresses au sein du SSP.\nClients : RÃ©sil, GÃ©oloc, DMTRâ€¦\n\nGaÃ¯a : RÃ©fÃ©rentiel GÃ©ographique dâ€™Adresses avec Informations GÃ©olocalisantes.\n\nParler de lâ€™origine du projet, quand ca a Ã©tÃ© mis en place, comment, pqâ€¦"
  },
  {
    "objectID": "src/seminaire-dms/index.html#une-adresse",
    "href": "src/seminaire-dms/index.html#une-adresse",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Une adresse",
    "text": "Une adresse\n\n\n\n\n\n20 bis avenue de la marne 92049"
  },
  {
    "objectID": "src/seminaire-dms/index.html#gÃ©omÃ©trie-de-ladresse",
    "href": "src/seminaire-dms/index.html#gÃ©omÃ©trie-de-ladresse",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "GÃ©omÃ©trie de lâ€™adresse",
    "text": "GÃ©omÃ©trie de lâ€™adresse\nExemple: â€œ88 avenue verdier | 92049â€ reliÃ©e Ã  sa parcelle"
  },
  {
    "objectID": "src/seminaire-dms/index.html#le-rÃ©fÃ©rentiel-gaÃ¯a",
    "href": "src/seminaire-dms/index.html#le-rÃ©fÃ©rentiel-gaÃ¯a",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Le rÃ©fÃ©rentiel GaÃ¯a",
    "text": "Le rÃ©fÃ©rentiel GaÃ¯a\n\n\nAutres donnÃ©es disponibles (aspect gÃ©omÃ©trique des objets) :\n\nPour chaque adresse GaÃ¯a : point gps, lien parcelle.\n\nPour chaque commune GaÃ¯a : polygone."
  },
  {
    "objectID": "src/seminaire-dms/index.html#identifiants-gaÃ¯a",
    "href": "src/seminaire-dms/index.html#identifiants-gaÃ¯a",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Identifiants GaÃ¯a",
    "text": "Identifiants GaÃ¯a\nIdentifiant unique et stable pour assurer le suivi des objets dans le temps.\n\nTrois niveaux :\n\nIdentifiant adresse\nIdentifiant voie\nIdentifiant commune\n\n\nGestion des scissions et fusions de communes."
  },
  {
    "objectID": "src/seminaire-dms/index.html#construction-du-rÃ©fÃ©rentiel",
    "href": "src/seminaire-dms/index.html#construction-du-rÃ©fÃ©rentiel",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Construction du rÃ©fÃ©rentiel",
    "text": "Construction du rÃ©fÃ©rentiel\nSources fiables :\n\nMajic : Mise Ã  jour des informations cadastrales.\n\nBAN : Base Adresse Nationale.\n\nRCA : RÃ©fÃ©rentiel Commun dâ€™Adresses.\n\n\nAu moins une mise Ã  jour par trimestre (avec conservation des identifiants GaÃ¯a).\n\nUne mise Ã  jour :\n\nRÃ©cupÃ©rer la nouvelle base dâ€™une source donnÃ©es.\n\nIdentifier les adresses textuellement :\n\n\n\nLes adresses qui sont retrouvÃ©es sont alors modifiÃ©es si des nouveautÃ©s apparaissent.\n\nLes adresses non retrouvÃ©es entraÃ®nent la crÃ©ation de nouveaux objets GaÃ¯a.\nLâ€™Ã©tape dâ€™identification des adresses permet de ne pas Ã©craser les identifiants GaÃ¯a."
  },
  {
    "objectID": "src/seminaire-dms/index.html#dautres-donnÃ©es",
    "href": "src/seminaire-dms/index.html#dautres-donnÃ©es",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Dâ€™autres donnÃ©es",
    "text": "Dâ€™autres donnÃ©es\n\nPolygones du bÃ¢ti.\n\nPolygones Parcelles du cadastre.\n\nPolygones QPV, zonages infra, iris.\n\nPas dâ€™identifiant GaÃ¯a, donc pas de suivi dans le temps de ces objets."
  },
  {
    "objectID": "src/seminaire-dms/index.html#exemples-de-gÃ©omÃ©tries",
    "href": "src/seminaire-dms/index.html#exemples-de-gÃ©omÃ©tries",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Exemples de gÃ©omÃ©tries",
    "text": "Exemples de gÃ©omÃ©tries\nAdresses, parcelles et bÃ¢tis :"
  },
  {
    "objectID": "src/seminaire-dms/index.html#quelques-mÃ©triques-sur-le-rÃ©fÃ©rentiel",
    "href": "src/seminaire-dms/index.html#quelques-mÃ©triques-sur-le-rÃ©fÃ©rentiel",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Quelques mÃ©triques sur le rÃ©fÃ©rentiel",
    "text": "Quelques mÃ©triques sur le rÃ©fÃ©rentiel\n\nNombre dâ€™adresses â‰ƒ 27 millions.\n\nNombre de voies â‰ƒ 3 millions."
  },
  {
    "objectID": "src/seminaire-dms/index.html#diffÃ©rents-besoins-au-sein-du-ssp",
    "href": "src/seminaire-dms/index.html#diffÃ©rents-besoins-au-sein-du-ssp",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "DiffÃ©rents besoins au sein du SSP",
    "text": "DiffÃ©rents besoins au sein du SSP\n\nRÃ©sil :\n\nIdentification de(s) adresse(s) des individus.\n\nRegroupement des adresses avec diffÃ©rents identifiants GaÃ¯a mais qui reprÃ©sentent le mÃªme lieu.\n\nGÃ©oloc : identification du rÃ©fÃ©rentiel GÃ©oloc et gÃ©nÃ©ration de leur nouveau rÃ©fÃ©rentiel.\n\nAutres utilisateurs possibles :\n\nIdentification des adresses sur les certificats de dÃ©cÃ¨s.\n\nIdentification des adresses de Sirus."
  },
  {
    "objectID": "src/seminaire-dms/index.html#besoin-didentification-des-adresses-textuelles",
    "href": "src/seminaire-dms/index.html#besoin-didentification-des-adresses-textuelles",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Besoin dâ€™identification des adresses textuelles",
    "text": "Besoin dâ€™identification des adresses textuelles\nTrouver lâ€™identifiant dâ€™adresse Ã  partir dâ€™un libellÃ© dâ€™adresse plus ou moins correcte.\n\nBesoin visiblement rÃ©current au sein du SSP.\n\nIndispensable pour construire et mettre Ã  jour le rÃ©fÃ©rentiel.\n\nIl faut donc un moteur de recherche âš™ï¸."
  },
  {
    "objectID": "src/seminaire-dms/index.html#adresses-Ã -retrouver-dans-gaÃ¯a",
    "href": "src/seminaire-dms/index.html#adresses-Ã -retrouver-dans-gaÃ¯a",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Adresses Ã  retrouver dans GaÃ¯a",
    "text": "Adresses Ã  retrouver dans GaÃ¯a\nExemple dâ€™adresses Ã  retrouver :\n\n\n\n\n\n\n\n\n\nAdresse Ã  retrouver\nCOG\nCode Postal\nLibellÃ© commune\n\n\n\n\n131, rue du fbg Bannier\n\n45000\nOrlÃ©ans\n\n\n0033 ave J. JaurÃ¨s\n92040\n\n\n\n\n\nAdresses dans GaÃ¯a :\n\n\n\nAdresse\nCOG\n\n\n\n\n131 rue du faubourg bannier\n45234\n\n\n33 avenue jean jaures\n92040\n\n\n\n\nCâ€™est pourquoi il faut un moteur de recherche âš™ï¸."
  },
  {
    "objectID": "src/seminaire-dms/index.html#un-moteur-de-recherche",
    "href": "src/seminaire-dms/index.html#un-moteur-de-recherche",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Un moteur de recherche âš™ï¸",
    "text": "Un moteur de recherche âš™ï¸\n\nGoogle : recherche par mot clÃ© sur internet.\n\nMoteur de recherche de lâ€™intranet de lâ€™Insee.\n\nPour la recherche dâ€™adresse :\n\nGoogle Maps.\nAddok : moteur de recherche de la BAN.\n\n\n\n\n\nQuand on pense Ã  moteur de recherche, on pense tout de suite Ã  Google.\nUn moteur de recherche est un outil qui permet de retrouver des informations en effectuant des requÃªtes dans une base de donnÃ©es. On peut rechercher avec des mots-clÃ©s ou des textes similaires Ã  ceux prÃ©sents dans la base, grÃ¢ce Ã  des techniques de recherche approximative.\nIl y a des moteurs de recherche partout, par exemple intranet de lâ€™insee, windows pour chercher des applications, lâ€™explorateur de fichiers sur votre ordinateur en localâ€¦\nUn moteur ne sert pas quâ€™Ã  chercher sur internet, câ€™est tout simplement de la recherche dans une base de donnÃ©es. Mais internet a permis des avancÃ©es majeures sur les moteurs, car la recherche sur le web devenait un sujet de plus en plus important. Avec le dÃ©multiplication de lâ€™information, difficile de chercher dans une grande bdd et trouver le rÃ©sultat le plus pertinent.\nPour avoir le maximum de rÃ©sultats pertients, il faut non seulement avoir un moteur performant, il faut aussi avoir les bonnes donnÃ©es. Câ€™est en recrutant un Ã©tudiant du MIT qui a dÃ©veloppÃ© une mÃ©thode rÃ©volutionnaire pour recenser automatiquement les sites sur le web (auparavant fait manuellement), que google va se dÃ©marquer des autres moteurs.\n1er moteur de recherche Archie 1990. Yahoo 1994, Google 1998, google maps 2004.\nGoogle maps : api payant, pas la main sur les donnÃ©es.\n\nGoogle Maps utilise des technologies avancÃ©es mais on peut reproduire la logique avec ElasticSearch.\n\nAddok : DINUM.\n\nOn va regarder les avantages et les inconvients de dâ€™elastic et dâ€™addok dans la suite."
  },
  {
    "objectID": "src/seminaire-dms/index.html#elasticsearch",
    "href": "src/seminaire-dms/index.html#elasticsearch",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "ElasticSearch",
    "text": "ElasticSearch\n\nCrÃ©Ã© en 2010 par Shay Bannon.\n\nFaire des recherches rapides sur tout type de donnÃ©es.\n\nMoteur âš™ï¸ utilisable en nâ€™importe quel langage de programmation (requÃªtes HTTP).\n\nElasticSearch au sein de lâ€™Insee :\n\n\n\nPour trier et chercher les recettes de cuisine de sa femme psq il trouvait pas de moteur de recherche adaptÃ©.\n1er moteur Elasticsearch de lâ€™insee : Code statistique Non Signifiant, identifier les individus Ã  partir de ses donnÃ©es dâ€™Ã©tat civil.\nRÃ©sil : prolongement du moteur CSNS, amÃ©liorer la qualitÃ© du moteur CSNS, en utilisant les informations identifiantes supplÃ©mentaires disponibles dans RÃ©sil, notamment lâ€™adresse de rÃ©sidence et les cohabitants."
  },
  {
    "objectID": "src/seminaire-dms/index.html#cest-quoi-concrÃ¨tement-elasticsearch",
    "href": "src/seminaire-dms/index.html#cest-quoi-concrÃ¨tement-elasticsearch",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Câ€™est quoi concrÃ¨tement ElasticSearch ?",
    "text": "Câ€™est quoi concrÃ¨tement ElasticSearch ?\n\nElasticSearch : logiciel pour lâ€™indexation et la recherche de donnÃ©es.\nUtilisation en pratique avec Python : packages elasticsearch et elasticsearch-dsl."
  },
  {
    "objectID": "src/seminaire-dms/index.html#pourquoi-elasticsearch-pour-la-recherche-textuelle",
    "href": "src/seminaire-dms/index.html#pourquoi-elasticsearch-pour-la-recherche-textuelle",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Pourquoi ElasticSearch pour la recherche textuelle ?",
    "text": "Pourquoi ElasticSearch pour la recherche textuelle ?\n\n\n\n\n\n\n\n\n\nCritÃ¨res\nElasticSearch\nSQL\nAddok\n\n\n\n\nRecherche de texte avancÃ©e\nâœ…\nâŒ\nâœ…\n\n\nPersonnalisation des recherches\nâœ…\nâŒ\nâš ï¸\n\n\nRapiditÃ©\nâœ…\nâœ…\nâœ…\n\n\nPrÃ©cision\nâœ…\nâŒ\nâš ï¸\n\n\nFacilitÃ© dâ€™implÃ©mentation\nâŒ\nâœ…\nâœ…\n\n\nMaintenance\nâš ï¸\nâœ…\nâŒ\n\n\n\n\n\nAddok (DINUM) : code python pour indexer des donnÃ©es dâ€™adresses avec point gps et recherche les adresses avec des requÃªtes fixÃ©es.\n\nAddok est un moteur de recherche open source conÃ§u pour effectuer des tÃ¢ches de gÃ©ocodage. Il nâ€™utilise pas Elasticsearch."
  },
  {
    "objectID": "src/seminaire-dms/index.html#filtres",
    "href": "src/seminaire-dms/index.html#filtres",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Filtres",
    "text": "Filtres\n\n\nNormaliser le texte pour la comparaison.\n\nPour les donnÃ©es du rÃ©fÃ©rentiel ET pour les adresses recherchÃ©es."
  },
  {
    "objectID": "src/seminaire-dms/index.html#filtres-implÃ©mentÃ©s",
    "href": "src/seminaire-dms/index.html#filtres-implÃ©mentÃ©s",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Filtres implÃ©mentÃ©s",
    "text": "Filtres implÃ©mentÃ©s\n\nLowercase\n\nAsciifolding\n\nPonctuation\n\nSÃ©paration des nombres et lettres (ex : 1er â†’ 1 er)\n\nSuppression des â€œ0â€ devant les nombres (ex : 0033 â†’ 33)\n\nPrise en compte des synonymes (ex : ave = avenue, st = saint)"
  },
  {
    "objectID": "src/seminaire-dms/index.html#base-de-donnÃ©es-classique",
    "href": "src/seminaire-dms/index.html#base-de-donnÃ©es-classique",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Base de donnÃ©es classique",
    "text": "Base de donnÃ©es classique\nExemple\n\n\n\nidVoie\nnom de voie\n\n\n\n\nA\ndu general leclerc\n\n\nB\ndu general charles de gaulle\n\n\nC\ndu point du jour\n\n\nD\nverdier\n\n\nE\ndes cours\n\n\n\n\nNous allons faire un focus sur uniquement le â€œnom de voieâ€ pour simplifier la comprÃ©hension de la thÃ©orie du moteur."
  },
  {
    "objectID": "src/seminaire-dms/index.html#recherche-par-mot",
    "href": "src/seminaire-dms/index.html#recherche-par-mot",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Recherche par mot",
    "text": "Recherche par mot\nPour chaque nom de voie du rÃ©fÃ©rentiel, compter le nombre de mots qui sont retrouvÃ©s dans lâ€™adresse recherchÃ©e : les matchs ğŸ¯.\nExemple : score avec tokenizer â€œmotâ€ de â€œ45 avenue du general charles de gaulleâ€\n\n\n\nidVoie\nnom de voie\nscore\n\n\n\n\nA\ndu general leclerc\n2\n\n\nB\ndu general charles de gaulle\n5\n\n\nC\ndu point du jour\n2\n\n\nD\nverdier\n0\n\n\nE\ndes cours\n0\n\n\n\n\n\nUn match câ€™est chercher si une sous chaine du nom de voie, ici un mot, est incluse dans lâ€™adresse recherchÃ©e.\n\nRecherche par groupes de caractÃ¨res Ã©galement possible, abordÃ©e dans la suite."
  },
  {
    "objectID": "src/seminaire-dms/index.html#score-avec-tokenizer-mot",
    "href": "src/seminaire-dms/index.html#score-avec-tokenizer-mot",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Score avec tokenizer â€œmotâ€",
    "text": "Score avec tokenizer â€œmotâ€\nTokenizer = faÃ§on de dÃ©couper le texte recherchÃ© et ciblÃ©.\n\nPour retourner la voie la plus pertinente, on construit un score pour chaque voie : \\[\nscore_{voie} = \\sum_{\\text{âˆ€m} \\in \\text{M}} {nb\\_occurrence}_m\n\\]\nm = mot.\nM = ensemble des mots de lâ€™adresse recherchÃ©e.\nDans une grande base de donnÃ©es, câ€™est extrÃªmement long.\n\nPour palier Ã  ces temps de traitement qui explosent, on peut utiliser un nouvel outil qui permet de rÃ©organiser nos bases de donnÃ©es : lâ€™index inversÃ©."
  },
  {
    "objectID": "src/seminaire-dms/index.html#index-inversÃ©-mot",
    "href": "src/seminaire-dms/index.html#index-inversÃ©-mot",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Index inversÃ© mot",
    "text": "Index inversÃ© mot\nExemple\n\n\n\n\n\n\nidVoie\n\n\nnom de voie\n\n\n\n\n\n\nA\n\n\ndu general leclerc\n\n\n\n\nB\n\n\ndu general charles de gaulle\n\n\n\n\nC\n\n\ndu point du jour\n\n\n\n\nD\n\n\nverdier\n\n\n\n\nE\n\n\ndes cours\n\n\n\n\n\n\n\n\n\n\n\n\nmot\n\n\noccurrences\n\n\n\n\n\n\ngeneral\n\n\n{â€œAâ€: 1, â€œBâ€: 1}\n\n\n\n\njour\n\n\n{â€œCâ€: 1}\n\n\n\n\ndu\n\n\n{â€œAâ€: 1, â€œBâ€: 1, â€œCâ€: 2}\n\n\n\n\ncours\n\n\n{â€œEâ€: 1}\n\n\n\n\nâ€¦\n\n\nâ€¦\n\n\n\n\n\nComptage direct âš¡ des occurrences de chaque mot de la base par idVoie.\n\n\nFaire un index inversÃ© par mot, câ€™est rÃ©cupÃ©rer tous les mots des noms de voie dans le rÃ©fÃ©rentiel et on les aplati dans une colonne.\n\nIl y a autant de lignes quâ€™il y a de mots diffÃ©rents dans les noms de voie du rÃ©fÃ©rentiel. Les mots les plus frÃ©quents seront ceux qui ont le plus dâ€™occurences.\n\nNous obtenons directement le comptage de chaque mot par idVoie.\n\nLâ€™index inversÃ© est fait en amont des recherches."
  },
  {
    "objectID": "src/seminaire-dms/index.html#fuzziness",
    "href": "src/seminaire-dms/index.html#fuzziness",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Fuzziness",
    "text": "Fuzziness\nContourner les petites fautes dâ€™orthographes : fuzziness.\nPour matcher ğŸ¯ deux mots avec une fuzziness de niveau 1 = corriger lâ€™un des mots :\n\nAjout dâ€™une lettre. Ex: â€œverdiierâ€\n\nSuppression dâ€™une lettre. Ex: â€œverdieâ€\n\nRemplacement dâ€™une lettre. Ex: â€œverfierâ€\n\nÃ‰changer deux lettres de place. Ex: â€œevrdierâ€\n\nIl est possible de comparer deux textes, deux n-grams ou nâ€™importe quel autre groupe de caractÃ¨res.\n\nLa fuzziness nâ€™est pas un tokenizer, une facon de decouper, câ€™est plutot une option quâ€™on rajoute pour matcher des sous chaine, peu importe le decoupage."
  },
  {
    "objectID": "src/seminaire-dms/index.html#une-autre-faÃ§on-de-dÃ©couper-les-n-grams",
    "href": "src/seminaire-dms/index.html#une-autre-faÃ§on-de-dÃ©couper-les-n-grams",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Une autre faÃ§on de dÃ©couper : les n-grams",
    "text": "Une autre faÃ§on de dÃ©couper : les n-grams\nPrendre en compte les correspondances partielles : chaque mot est dÃ©coupÃ© en sous-chaÃ®nes de n caractÃ¨res consÃ©cutifs.\n\nExemple de dÃ©coupage en 3-grams de caractÃ¨res du texte â€œavenue verdierâ€ :\nave, ven, enu, nue, ver, erd, rdi, die, ier\n\nSi un mot est infÃ©rieur Ã  la taille n, il nâ€™aura pas de dÃ©coupage en n-grams â†’ pas prÃ©sent dans lâ€™index inversÃ© n-gram."
  },
  {
    "objectID": "src/seminaire-dms/index.html#index-inversÃ©-3-grams",
    "href": "src/seminaire-dms/index.html#index-inversÃ©-3-grams",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Index inversÃ© 3-grams",
    "text": "Index inversÃ© 3-grams\nExemple\n\n\n\n\n\n\nidVoie\n\n\nnom de voie\n\n\n\n\n\n\nA\n\n\ndu general leclerc\n\n\n\n\nB\n\n\ndu general charles de gaulle\n\n\n\n\nC\n\n\ndu point du jour\n\n\n\n\nD\n\n\nverdier\n\n\n\n\nE\n\n\ndes cours\n\n\n\n\n\n\n\n\n\n\n\n\n3-gram\n\n\noccurrences\n\n\n\n\n\n\ngen\n\n\n{â€œAâ€: 1, â€œBâ€: 1}\n\n\n\n\ncha\n\n\n{â€œBâ€: 1}\n\n\n\n\nour\n\n\n{â€œCâ€: 1, â€œEâ€: 1}\n\n\n\n\noin\n\n\n{â€œCâ€: 1}\n\n\n\n\nâ€¦\n\n\nâ€¦\n\n\n\n\n\n\n\nIl y a autant de lignes quâ€™il ya de trigrams diffÃ©rents dans les noms de voie du rÃ©fÃ©rentiel.\n\nSi un mot est infÃ©rieur Ã  la taille n=3, il ne sera pas pris en compte. Par exemple : du gÃ©nÃ©ral de gaules, â€œduâ€ et â€œdeâ€ nâ€™apparaÃ®tront pas dans lâ€™index et donc ne seront pas pris en compte dans les matchs trigrams."
  },
  {
    "objectID": "src/seminaire-dms/index.html#score-avec-tokenizer-n-grams",
    "href": "src/seminaire-dms/index.html#score-avec-tokenizer-n-grams",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Score avec tokenizer â€œn-gramsâ€",
    "text": "Score avec tokenizer â€œn-gramsâ€\nScore pour chaque voie : \\[\nscore_{voie} = \\sum_{\\text{âˆ€ngram} \\in \\text{N}} {nb\\_occurrence}_{ngram}\n\\]\nN = ensemble des n-grams de lâ€™adresse recherchÃ©e."
  },
  {
    "objectID": "src/seminaire-dms/index.html#limites-des-n-grams",
    "href": "src/seminaire-dms/index.html#limites-des-n-grams",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Limites des n-grams",
    "text": "Limites des n-grams\n\\[\n\\downarrow \\text{taille n-grams}\n\\Rightarrow \\text{taille index inversÃ©} \\uparrow\n\\Rightarrow \\text{temps de recherche} \\uparrow\n\\]\n\nLimitation Ã  nâˆˆ{3,4,5} pour notre cas.\n\nTests effectuÃ©s pour choisir ces valeurs, en fonction de la prÃ©cision et la rapiditÃ© des requÃªtes.\n\n\nDonc avec tous ces Ã©lÃ©ments, on peut commencer Ã  construire un score de plus en plus efficient pour trouver la voie la plus pertiente."
  },
  {
    "objectID": "src/seminaire-dms/index.html#score-global",
    "href": "src/seminaire-dms/index.html#score-global",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Score global",
    "text": "Score global\nLe score global va donc combiner la somme des matchs ğŸ¯ au niveau :\n\nmot avec fuzziness.\n\nn-grams.\n\nmais Ã©galement texte entier sans dÃ©coupage !\n\n\nIl est possible de donner plus ou moins dâ€™importance Ã  ces diffÃ©rents niveaux de matchs ğŸ¯.\n\n\nOn va chercher le nom de voie tel quel, sans dÃ©coupage, au sein de lâ€™adresse recherchÃ©e.\nCâ€™est pourquoi on va introduire la notion de boost."
  },
  {
    "objectID": "src/seminaire-dms/index.html#boost",
    "href": "src/seminaire-dms/index.html#boost",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Boost ğŸš€",
    "text": "Boost ğŸš€\n\nChaque occurrence est multipliÃ©e par un facteur, appelÃ© boost ğŸš€, qui dÃ©pend du niveau de match ğŸ¯.\n\nPersonnalisation des boosts ğŸš€ pour Ãªtre adaptÃ© aux donnÃ©es recherchÃ©es.\n\n\nAvec tous ces outils la, on peut faire une recherche !"
  },
  {
    "objectID": "src/seminaire-dms/index.html#faire-des-recherches",
    "href": "src/seminaire-dms/index.html#faire-des-recherches",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Faire des recherches ğŸ”",
    "text": "Faire des recherches ğŸ”\nRequÃªte ğŸ” pour retrouver la voie :\nÃ€ chaque match ğŸ¯, le score va â‡¡ en fonction du boost ğŸš€ associÃ©.\n\n\n\nVariable\nTokenizer\nFuzzi 1\nBoost ğŸš€\n\n\n\n\nNom de voie\nSans dÃ©coupage\nâœ…\n200\n\n\nNom de voie\nMot\nâœ…\n15\n\n\nType de voie\nMot\nâœ…\n5\n\n\nNom de voie\n3 Ã  5-grams\nâŒ\n1\n\n\n\nEx boost 200 : â€œ3 rue du genral de gaulleâ€ âŠƒ â€œdu general de gaulleâ€\n\n\nRequete gaia pour retrouver la voie.\n\nIci, on introduit le type de voie qui nâ€™a pas Ã©tÃ© vu prÃ©cÃ©dement, pour ne pas compliquer la comprÃ©hension de la thÃ©orie du moteur, mais la logique reste la meme que pour le nom de voie.\n\nAttention, pas de fuzzi sur les ngrams car on juge que les sous chaines sont dÃ©jÃ  assez petites, câ€™est contre productif pour la rapiditÃ© et la prÃ©cision des recherches dâ€™ajouter de la fuzzi.\n\nIl faut noter quâ€™on match Ã  chaque sous-chaine, par exemple Ã  chaque 3-grams de verdier dans 88 avenue verdier.\n\nLes ngrams câ€™est notre dernier recours, on va retourner comme voie plus pertinente les match sur nom de voie complet et sur token mais ngrams câ€™est notre roue de secours."
  },
  {
    "objectID": "src/seminaire-dms/index.html#retour-sur-le-score-global",
    "href": "src/seminaire-dms/index.html#retour-sur-le-score-global",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Retour sur le score global",
    "text": "Retour sur le score global\n\\[\nscore_{voie} = \\sum_{\\text{âˆ€n} \\in \\text{N}} \\sum_{\\text{âˆ€t} \\in \\text{n}} boost_{n}*{nb\\_occurrence}_{t}\n\\]\nN = ensemble des niveaux (niveau chaÃ®ne complÃ¨te fuzzi, niveau mot fuzziâ€¦).\nn = niveau.\nt = token, sous-chaÃ®ne (un mot, un 3-gramsâ€¦).\n\n\nFormule mathÃ©matique du score pour retrouver la voie la plus pertiente dans GaÃ¯a.\nMaintenant, on est capable de retrouver la voie la plus pertinente, mais quâ€™est ce quâ€™il en est de lâ€™adresse ? Regardons lâ€™algorithme dâ€™identification dâ€™adresse de GaÃ¯a."
  },
  {
    "objectID": "src/seminaire-dms/index.html#algorithme-didentification-dadresses-1",
    "href": "src/seminaire-dms/index.html#algorithme-didentification-dadresses-1",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Algorithme dâ€™identification dâ€™adresses",
    "text": "Algorithme dâ€™identification dâ€™adresses\n\nPrends en entrÃ©e un libellÃ© dâ€™adresse et un COG, ou Ã  dÃ©faut, un code postal + libellÃ© commune.\n\nRetourne :\n\nle(s) identifiant(s) GaÃ¯a retrouvÃ©(s).\n\nune indicatrice sur la qualitÃ© de lâ€™identification (0 Ã  10).\n\nun ratio qui mesure lâ€™Ã©cart entre la 1Ã¨re et la 2Ã¨me voie la plus pertinente retournÃ©es par Elastic (0 Ã  1)."
  },
  {
    "objectID": "src/seminaire-dms/index.html#schÃ©ma-algorithme-didentification",
    "href": "src/seminaire-dms/index.html#schÃ©ma-algorithme-didentification",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "SchÃ©ma algorithme dâ€™identification",
    "text": "SchÃ©ma algorithme dâ€™identification\n\n\n\nEntre chaque requÃªte Elastic, il y a des Ã©tapes de validation du rÃ©sultat ES qui sont font en aval.\n\nIdentification adresse stricte : une recherche lâ€™adresse comme un appariement direct avec notre rÃ©fÃ©rentiel GaÃ¯a, tout en passant via le moteur ElasticSearch pour avoir les filtres et les synonymes montrÃ©s prÃ©cÃ©demment.\n\nEn moyenne, sur une base de donnÃ©es dâ€™adresses non normalisÃ©es, il y a 30% des adresses qui passent Ã  la premiÃ¨re Ã©tape de lâ€™identification. Cette identification stricte permet donc dâ€™accÃ©lerer le processus, car ca prend 6 fois moins de temps de faire une recherche stricte plutot quâ€™une recherhce floue.\n\nComme les bases de donnÃ©es qui alimentent notre rÃ©fÃ©rentiel sont plutÃ´t normalisÃ©es, cela accÃ©lÃ¨re dâ€™autant plus notre processus dâ€™identification.\n\nensuite voie floue puis simplement numÃ©ro et indice de rÃ©pÃ©tition, pas besoin de faire autant dâ€™ingÃ©nieurie que pour retrouver la voie ici.\n\nLa validation de la voie retrouvÃ©e va Ãªtre prÃ©sentÃ©e juste aprÃ¨s, et dâ€™ailleurs lâ€™indicatrice qualitÃ© va dÃ©pendre de la validation de la voie."
  },
  {
    "objectID": "src/seminaire-dms/index.html#indicatrice-qualitÃ©",
    "href": "src/seminaire-dms/index.html#indicatrice-qualitÃ©",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Indicatrice qualitÃ©",
    "text": "Indicatrice qualitÃ©\n\nDÃ©pend du pourcentage de 3-grams de la voie du rÃ©fÃ©rentiel âŠ‚ lâ€™adresse recherchÃ©e.\nCalcul non rÃ©alisable avec Elastic, donc effectuÃ© post requÃªte.\n\n\n\n\nVoie qualifiÃ©e de\nPourcentage de 3-grams\n\n\n\n\nsÃ»re\nâ‰¥ 65%\n\n\npeu douteuse\n35% â‰¤ x &lt; 65%\n\n\ndouteuse\n10% â‰¤ x &lt; 35%\n\n\nnon retrouvÃ©e\n&lt; 10%\n\n\n\nExemple : 80% des 3-grams de â€œverdierâ€ dans â€œ88 avenue verdieâ€.\n\n\nLe trigram â€œierâ€ nâ€™est jamais matchÃ©\n\nverdier : 5 trigrams\n\n4 trigrams retrouvÃ©s dans 88 avenue verdier\n\n4*100/5 = 80\nCes valeurs nâ€™ont pas Ã©tÃ© choisies aux hasard, elles ont Ã©tÃ© calculÃ©es grÃ¢ce au jeu de test que nous allons vous prÃ©senter ensuite. Et nous avons regardÃ© la courbe PrÃ©cision-Rappel.\nPrÃ©cision = Vrais positifs/ positifs (vp + fp)\nRappel = Vrais positifs / Bons prÃ©dits (vp + vn)"
  },
  {
    "objectID": "src/seminaire-dms/index.html#valeurs-de-lindicatrice-qualitÃ©",
    "href": "src/seminaire-dms/index.html#valeurs-de-lindicatrice-qualitÃ©",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Valeurs de lâ€™indicatrice qualitÃ©",
    "text": "Valeurs de lâ€™indicatrice qualitÃ©\n\n\n\nValeur\nidGaÃ¯a maximum retrouvÃ©\n\n\n\n\n6 Ã  10\nidAdresse\n\n\n3 Ã  5\nidVoie\n\n\n2\nidCommune\n\n\n0 Ã  1\nAucun"
  },
  {
    "objectID": "src/seminaire-dms/index.html#distance-entre-la-1Ã¨re-et-la-2Ã¨me-voie-la-plus-pertinente",
    "href": "src/seminaire-dms/index.html#distance-entre-la-1Ã¨re-et-la-2Ã¨me-voie-la-plus-pertinente",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Distance entre la 1Ã¨re et la 2Ã¨me voie la plus pertinente",
    "text": "Distance entre la 1Ã¨re et la 2Ã¨me voie la plus pertinente\n\\[\n\\text{ratio} = 1 - \\frac{R_2}{R_1}\n\\]\nR1 = score Elastic de la 1Ã¨re voie la plus pertinente (voie retournÃ©e).\nR2 = score Elastic de la 2Ã¨me voie la plus pertinente.\nRatio â†’ 1 â‡” le rÃ©sultat retournÃ© est loin de la 2Ã¨me proposition.\n\nMaintenant quâ€™on a en tete lâ€™algorithme dâ€™identification dâ€™adresse de Gaia, quelles sont ses performances concrÃ¨tement ?"
  },
  {
    "objectID": "src/seminaire-dms/index.html#constitution-dun-jeu-de-test",
    "href": "src/seminaire-dms/index.html#constitution-dun-jeu-de-test",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Constitution dâ€™un jeu de test",
    "text": "Constitution dâ€™un jeu de test\n\nIdÃ©e : avoir des adresses avec des variations textuelles et leur idGaÃ¯aAdresse associÃ© (vÃ©ritÃ©).\n\nLe jeu de test est une suite dâ€™appariements de sources de donnÃ©es :\n\nPASRAU : PrÃ©lÃ¨vement Ã€ la Source sur les Revenus AUtres.\n\nTSSAL : Base tous salariÃ©s, issue de la dÃ©claration sociale nominative.\n\nFidÃ©li : FIchiers DÃ‰mographiques sur les Logements et les Individus."
  },
  {
    "objectID": "src/seminaire-dms/index.html#schÃ©ma-appariements-jeu-de-test",
    "href": "src/seminaire-dms/index.html#schÃ©ma-appariements-jeu-de-test",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "SchÃ©ma appariements jeu de test",
    "text": "SchÃ©ma appariements jeu de test\n\n\n\nPASRAU : Ce sont des donnÃ©es administratives gÃ©nÃ©rÃ©es par le prÃ©lÃ¨vement Ã  la source sur les retraites et dâ€™autres revenus (mais pas les salaires).\nAdresses du PASRAU et Tous SalariÃ©s (TTSAL) avec le CSNS de lâ€™individu connu pour chaque adresse.\n\nGrÃ¢ce aux CSNS des individus FidÃ©li 2022, obtention de lâ€™identifiant Majic de ces adresses.\nAvec lâ€™identifiant Majic des adresses, conservÃ© dans le rÃ©fÃ©rentiel GaÃ¯a, on retrouve lâ€™idGaÃ¯aAdresse.\n\nValidation post-appariements des paires adresse non normalisÃ©e (PASRAU, TSSAL)) + idGaÃ¯aAdresse.\n\n\n\n\nMaintenant quâ€™on a le jeu de test, on peut evaluer lâ€™algo."
  },
  {
    "objectID": "src/seminaire-dms/index.html#Ã©valuation-de-lalgorithme-didentification",
    "href": "src/seminaire-dms/index.html#Ã©valuation-de-lalgorithme-didentification",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Ã‰valuation de lâ€™algorithme dâ€™identification",
    "text": "Ã‰valuation de lâ€™algorithme dâ€™identification\nPour 100 000 adresses issues du jeu de test sur tout le territoire franÃ§ais :\n\n\n\n\n\n\n\n\n\n\nAdresse trouvÃ©e\nVoie trouvÃ©e\nCommune trouvÃ©e/rien trouvÃ©\n\n\n\n\nPourcentage\n86,0%\n99,5%\n0,5%\n\n\nPrÃ©cision\n0.94\n0.94\nx\n\n\n\nAppariement direct avec filtres entre adresses Ã  retrouver et rÃ©fÃ©rentiel GaÃ¯a : 30% dâ€™identification Ã  lâ€™adresse.\n\n\nPrÃ©cision = Vrais positifs/ positifs (vp + fp)\nA titre de comparaison, un appariement direct entre les adresses Ã  retrouver et le rÃ©fÃ©rentiel GaÃ¯a donnerait 30% dâ€™identification Ã  condition que les filtres prÃ©sentÃ©s prÃ©cÃ©demment soient appliquÃ©s.\nLe reste des adresses doivent Ãªtre retrouvÃ©es avec du flou, ce qui est trÃ¨s long dans une bdd standard.\nDonc ce qui justifie lâ€™utilisation dâ€™un moteur en terme de prÃ©cision mais aussi en terme de performances temporelles, notamment grace Ã  lâ€™index inversÃ©."
  },
  {
    "objectID": "src/seminaire-dms/index.html#rapiditÃ©-de-lalgorithme",
    "href": "src/seminaire-dms/index.html#rapiditÃ©-de-lalgorithme",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "RapiditÃ© de lâ€™algorithme",
    "text": "RapiditÃ© de lâ€™algorithme\n\n500 adresses en 2 secondes.\n\nIdentification de gros paquets dâ€™adresses : 1 million dâ€™adresses en 50 minutes.\nDÃ©monstration en direct du moteur âš™ï¸ ElasticSearch dÃ©veloppÃ© en Python.\n\n\n{ â€œadresseCompleteâ€: â€œ48 rue fontaineâ€, â€œdepcomâ€: â€œâ€œ,â€codePostalâ€: â€œ14530â€, â€œlibelleCommuneâ€: â€œluc s/merâ€ }"
  },
  {
    "objectID": "src/seminaire-dms/index.html#limites",
    "href": "src/seminaire-dms/index.html#limites",
    "title": "Identification dâ€™adresses avec ElasticSearch",
    "section": "Limites",
    "text": "Limites\n\nCompÃ©tences requises pour le dÃ©veloppement et la maintenance du moteur ElasticSearch.\n\nMoteur crÃ©Ã© par lâ€™EPS en Python, rÃ©Ã©crit en Java par lâ€™EPI.\n\nLes travaux ont Ã©tÃ© effectuÃ©s sur un rÃ©fÃ©rentiel contenant des erreurs/doublons â†’ entrave les mÃ©triques qualitÃ©."
  },
  {
    "objectID": "src/documentation/index.html",
    "href": "src/documentation/index.html",
    "title": "Accueil de la documentation",
    "section": "",
    "text": "Informations de connexion via Filezilla en protocole FTP (connexion FTP simple) disponibles ici.\nPour requÃªter le service dâ€™identification, il faut que lâ€™utilisateur soit authentifiÃ© en ayant rÃ©cupÃ©rÃ© un jeton Keycloak au prÃ©alable et quâ€™il bÃ©nÃ©ficie du rÃ´le IDENTIFICATION_GAIA. Si ce nâ€™est pas le cas, contactez lâ€™Ã©quipe GaÃ¯a sur Tchap ou mail.\n\n\n\nPour lancer une identification avec le moteur ElasticSearch dÃ©veloppÃ© en python, il faut aller sur le dÃ©pÃ´t git et lire le README. Il est possible dâ€™accÃ©der au dÃ©pÃ´t en cliquant ici Moteur de recherche GaÃ¯a. Puis aller sur LS3 pour cloner le projet.\nâš ï¸ Attention : il faut avoir les droits pour accÃ©der au dÃ©pÃ´t et Ãªtre dans le projet LS3. Si ce nâ€™est pas le cas, contactez lâ€™Ã©quipe GaÃ¯a sur Tchap ou mail.",
    "crumbs": [
      "Accueil",
      "Navigation",
      "Accueil"
    ]
  },
  {
    "objectID": "src/documentation/index.html#recherche-simple-les-swaggers",
    "href": "src/documentation/index.html#recherche-simple-les-swaggers",
    "title": "Accueil de la documentation",
    "section": "",
    "text": "Informations de connexion via Filezilla en protocole FTP (connexion FTP simple) disponibles ici.\nPour requÃªter le service dâ€™identification, il faut que lâ€™utilisateur soit authentifiÃ© en ayant rÃ©cupÃ©rÃ© un jeton Keycloak au prÃ©alable et quâ€™il bÃ©nÃ©ficie du rÃ´le IDENTIFICATION_GAIA. Si ce nâ€™est pas le cas, contactez lâ€™Ã©quipe GaÃ¯a sur Tchap ou mail.",
    "crumbs": [
      "Accueil",
      "Navigation",
      "Accueil"
    ]
  },
  {
    "objectID": "src/documentation/index.html#recherche-avancÃ©e-code-python",
    "href": "src/documentation/index.html#recherche-avancÃ©e-code-python",
    "title": "Accueil de la documentation",
    "section": "",
    "text": "Pour lancer une identification avec le moteur ElasticSearch dÃ©veloppÃ© en python, il faut aller sur le dÃ©pÃ´t git et lire le README. Il est possible dâ€™accÃ©der au dÃ©pÃ´t en cliquant ici Moteur de recherche GaÃ¯a. Puis aller sur LS3 pour cloner le projet.\nâš ï¸ Attention : il faut avoir les droits pour accÃ©der au dÃ©pÃ´t et Ãªtre dans le projet LS3. Si ce nâ€™est pas le cas, contactez lâ€™Ã©quipe GaÃ¯a sur Tchap ou mail.",
    "crumbs": [
      "Accueil",
      "Navigation",
      "Accueil"
    ]
  },
  {
    "objectID": "src/seminaire-dms-video/index.html",
    "href": "src/seminaire-dms-video/index.html",
    "title": "VidÃ©o du sÃ©minaire interne DMS du 28 novembre 2024",
    "section": "",
    "text": "VidÃ©o du sÃ©minaire interne DMS du 28 novembre 2024\n\n\n\nVotre navigateur ne supporte pas la balise vidÃ©o."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Moteur de recherche dâ€™adresses GaÃ¯a",
    "section": "",
    "text": "Moteur de recherche dâ€™adresses GaÃ¯a\n\n\n\n\n  \n     \n      \n        \n          \n            \n          \n         \n        \n          \n            Documentation\n            \n\n            \n              Description : Ici est rassemblÃ©e toute la documentation technique sur le moteur de recherche d'adresse textuel GaÃ¯a\n\n            \n\n            \n            \n              \n                Raya Berova\n                Jul 7, 2025\n              \n            \n            \n            \n              \n              \n                \n                  \n                    \n                      \n                        Doc\n                      \n                    \n                  \n                \n              \n              \n              \n            \n          \n        \n\n        \n\n      \n     \n  \n\n  \n     \n      \n        \n          \n            \n          \n         \n        \n          \n            SÃ©minaire interne DMS\n            \n\n            \n              Description : Ce sÃ©minaire a pour but de prÃ©senter le moteur de recherche d'adresse GaÃ¯a et de diffuser les connaissances sur ElasticSearch au sein de l'Insee.\n\n            \n\n            \n            \n              \n                Raya Berova & BenoÃ®t Hurpeau\n                Nov 28, 2024\n              \n            \n            \n            \n              \n              \n                \n                  \n                    \n                      \n                        Slides\n                      \n                    \n                  \n                \n              \n              \n              \n                \n                  \n                    \n                      \n                        VidÃ©o\n                      \n                    \n                  \n                \n              \n            \n          \n        \n\n        \n\n      \n     \n  \n\n  \n     \n      \n        \n          \n            \n          \n         \n        \n          \n            Abstract NTTS 2025 (Eurostat)\n            \n\n            \n              Description : Abstract en anglais soumis Ã  NTTS 2025.\n\n            \n\n            \n            \n              \n                Raya Berova\n                Oct 1, 2024\n              \n            \n            \n            \n              \n              \n                \n                  \n                    \n                      \n                        pdf\n                      \n                    \n                  \n                \n              \n              \n              \n            \n          \n        \n\n        \n\n      \n     \n  \n\n\n\nNo matching items"
  }
]